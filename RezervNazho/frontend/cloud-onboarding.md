# راه‌اندازی ابر (Vercel) برای فرانت‌اند رزرونازخو

این راهنما مرحله‌به‌مرحله نحوهٔ اتصال فرانت‌اند به Vercel، اضافه کردن متغیرهای محیطی و نکات مربوط به استقرار را پوشش می‌دهد.

مرحله 1 — ایجاد پروژه در Vercel
--------------------------------
1. وارد حساب Vercel شوید و روی "New Project" کلیک کنید.
2. مخزن GitHub خود (`mmehdipoor1366/rnazho`) را انتخاب کنید و مسیر / Project Root را به `RezervNazho/frontend` تنظیم کنید.
3. فریم‌ورک را روی Next.js قرار دهید و پروژه را ایجاد کنید.

مرحله 2 — متغیرهای محیطی
-------------------------
در تنظیمات پروژهٔ Vercel (Project Settings → Environment Variables) متغیرهای زیر را برای محیط‌های Preview و Production اضافه کنید:

- `NEXT_PUBLIC_API_BASE_URL` — آدرس پایهٔ API. برای توسعه محلی می‌توانید از `http://localhost:3000` استفاده کنید یا خالی بگذارید تا مسیرهای نسبی مورد استفاده قرار گیرند.
- `NEXT_PUBLIC_APP_NAME` — نام برنامه (مثلاً RezervNazho)

مرحله 3 — تولید توکن Vercel برای CI
----------------------------------
1. به https://vercel.com/account/tokens بروید.
2. یک توکن جدید بسازید (نام پیشنهادی: `ci-deploy-token`).
3. مقدار توکن را کپی و آن را به عنوان Secret در مخزن GitHub اضافه کنید.

مرحله 4 — اضافه کردن Secrets به GitHub
-------------------------------------
در GitHub → Settings → Secrets and variables → Actions اضافه کنید:

- `VERCEL_TOKEN` — توکن ساخته شده در مرحلهٔ قبل
- `VERCEL_ORG_ID` — شناسهٔ سازمان/تیم Vercel
- `VERCEL_PROJECT_ID` — شناسهٔ پروژه در Vercel

این مقادیر توسط GitHub Actions برای ایجاد استقرارها استفاده می‌شوند.

مرحله 5 — دامنهٔ سفارشی (اختیاری)
---------------------------------
1. در Vercel (Project Settings → Domains) دامنهٔ خود را اضافه کنید.
2. رکوردهای DNS که Vercel به شما می‌دهد را در کنترل پنل ثبت‌کننده دامنه وارد کنید.
3. پس از انتشار رکوردها، Vercel گواهی TLS را به‌صورت خودکار صادر و فعال خواهد کرد.

نکات عملی
---------
- Preview deployments به‌طور خودکار برای Pull Requestها ساخته می‌شوند. بررسی کنید که secret `VERCEL_TOKEN` در دسترس workflowها باشد.
- برای توسعه محلی می‌توانید از APIهای mock داخلی (فایل‌های داخل `src/app/api/*`) استفاده کنید.
- تنظیمات مربوط به بهینه‌سازی تصاویر را در `vercel.json` و پنل Vercel بررسی کنید.

